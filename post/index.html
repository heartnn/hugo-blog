<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=twitter:card content="summary">
<meta name=twitter:image content="https://open.saintic.com/api/bingPic/?picSize=2">
<meta name=twitter:title content="Posts">
<meta name=twitter:description content="生活中的记忆片段~">
<meta name=twitter:site content="@heartnn">
<meta property="og:title" content="Posts &#183; heartnn的自留地">
<meta property="og:site_name" content="heartnn的自留地">
<meta property="og:url" content="https://www.heartnn.com/post/">
<meta property="og:image" content="https://open.saintic.com/api/bingPic/?picSize=2">
<meta property="og:type" content="website">
<meta property="og:description" content="生活中的记忆片段~">
<title>Posts &#183; heartnn的自留地</title>
<meta name=description content="生活中的记忆片段~">
<meta name=HandheldFriendly content="True">
<meta name=viewport content="width=device-width,initial-scale=1">
<link rel="shortcut icon" href=/images/favicon.ico>
<link rel=apple-touch-icon href=/images/apple-touch-icon.png>
<link rel=stylesheet href=/css/screen.min.css>
<link rel=stylesheet href=/css/nav.min.css>
<link rel=stylesheet href=//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.4.1/dist/jquery.fancybox.min.css integrity="sha256-oC/Q8nqWSlp1bki3Ht9gRCWaew5n6/HNk10HT4aEX4w=" crossorigin=anonymous>
<link href=/index.xml rel=alternate type=application/rss+xml title=heartnn的自留地>
<link href=/post/index.xml rel=alternate type=application/rss+xml title="Posts &#183; heartnn的自留地">
<meta name=generator content="Hugo 0.88.1">
<link rel=canonical href=https://www.heartnn.com/post/>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"Website","publisher":{"@type":"Person","name":null,"image":{"@type":"ImageObject","url":"https://www.heartnn.com/images/logo.png","width":250,"height":250},"url":"https://www.heartnn.com","sameAs":[]},"url":"https://www.heartnn.com/","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.heartnn.com/"},"description":"生活中的记忆片段~"}</script>
</head>
<body class=nav-closed>
<div class=nav>
<h3 class=nav-title>Menu</h3>
<a href=# class=nav-close>
<span class=hidden>Close</span>
</a>
<ul>
<li class=nav-opened role=presentation>
<a href=/>首页</a>
</li>
<li class=nav-opened role=presentation>
<a href=/aboutme/>关于我</a>
</li>
<li class=nav-opened role=presentation>
<a href=/archives/>归档</a>
</li>
<li class=nav-opened role=presentation>
<a href=/categories/>分类</a>
</li>
<li class=nav-opened role=presentation>
<a href=/tags/>标签</a>
</li>
<h3 class=nav-link>Topics</h3>
<li class=nav-opened role=presentation>
<a href=/hosts/ title="General Hosts">Hosts</a>
</li>
<li class=nav-opened role=presentation>
<a href=/twitter/ title="About Twitter">Twitter</a>
</li>
<li class=nav-opened role=presentation>
<a href=/playlist/ title=我经常听的歌>播放列表</a>
</li>
<h3 class=nav-link>Links</h3>
<li class=nav-opened role=presentation>
<a href=https://pan.qnas.cc/ title=我的网盘 onclick="target='_blank'">我的网盘</a>
</li>
</ul>
<a class="subscribe-button icon-feed" href=/post/index.xml>Subscribe</a>
</div>
<span class=nav-cover></span>
<div class=site-wrapper>
<header class="main-header tag-head" style="background-image:url(https://open.saintic.com/api/bingPic/?picSize=2)">
<nav class="main-nav overlay clearfix">
<a class=blog-logo href=https://www.heartnn.com/><img src=/images/logo.png alt=Home></a>
<a class=menu-button href=#><span class=burger>&#9776;</span><span class=word>Menu</span></a>
</nav>
<div class=vertical>
<div class="main-header-content inner">
<h1 class=page-title>Posts</h1>
<h2 class=page-description>
</h2>
</div>
</div>
</header>
<main class=content role=main>
<div class="extra-pagination inner">
<nav class=pagination role=navigation>
<span class=page-number>Page 1 of 38</span>
<a class=older-posts href=/post/page/2/>Older Posts &rarr;</a>
</nav>
</div>
<article class="post post">
<header class=post-header>
<h2 class=post-title><a href=/2021/11/02/cloudreve-config-mysql-and-redis/>Cloudreve迁移到MySQL</a></h2>
</header>
<section class=post-excerpt>
<p><h3 id=环境--起因>环境 & 起因</h3>
<ul>
<li>系统：Debian 10</li>
<li>硬件：1 vCPU 512MB</li>
<li>Cloudreve软件版本：3.3.2 with SQLite</li>
</ul>
<p>随着文件数的增加，SQLite速度和稳定性都差一些，而且数据库文件越来越大，虽然网盘就我一个人在用，崩了可以重新装，但还是秉着一劳永逸的原则，开始了迁移工作。</p> <a class=read-more href=/2021/11/02/cloudreve-config-mysql-and-redis/>&#187;</a></p>
</section>
<footer class=post-meta>
<img class="author-thumb nopin" src=/images/logo.png alt="Author image">
heartnn
on
<a href=https://www.heartnn.com/tags/sqlite/>#sqlite</a>
,
<a href=https://www.heartnn.com/tags/mysql/>#mysql</a>
,
<a href=https://www.heartnn.com/tags/redis/>#redis</a>
<time class=post-date datetime=2021-11-02T07:46:23+08:00>
2021-11-02
</time>
</footer>
</article>
<article class="post post">
<header class=post-header>
<h2 class=post-title><a href=/2021/10/29/dingtalk-python-ngrok/>自编译基于Python的钉钉内网穿透(ngrok)</a></h2>
</header>
<section class=post-excerpt>
<p>源代码来自于hauntek/python-ngrok，自己又从dingtalk/ngrok中提取了源码进行比对，然后用pyinstaller编译而来。
用起来还是相当稳定的，虽然似乎只能穿透http，但是能穿透一个群晖的DSM就足够了，建议应急的时候用一下。
下载地址：https://github.com/heartnn/dingtalk-ngrok/releases/latest，包含Windows和Linux的版本。 <a class=read-more href=/2021/10/29/dingtalk-python-ngrok/>&#187;</a></p>
</section>
<footer class=post-meta>
<img class="author-thumb nopin" src=/images/logo.png alt="Author image">
heartnn
on
<a href=https://www.heartnn.com/tags/python/>#python</a>
,
<a href=https://www.heartnn.com/tags/nat/>#nat</a>
<time class=post-date datetime=2021-10-29T15:32:16+08:00>
2021-10-29
</time>
</footer>
</article>
<article class="post post">
<header class=post-header>
<h2 class=post-title><a href=/2021/08/24/woff2-compress-tools/>woff2转换工具</a></h2>
</header>
<section class=post-excerpt>
<p>最近在研究使用Jellyfin，由于字幕的问题需要备用的woff2字体，网上的字体都不是很完整的，所以想自己转换一些使用。这个工具是从Google的代码编译而来，是用Cygwin编译的，Windows下可以使用。
下载后打开，其中包括woff2_compress.exe和woff2_decompress.exe，使用方法很简单：
woff2_compress myfont.ttf woff2_decompress myfont.woff2 转换成woff2时，输入文件可以是ttf和otf，但ttc是不行的，需要将ttc转换成ttf使用。 <a class=read-more href=/2021/08/24/woff2-compress-tools/>&#187;</a></p>
</section>
<footer class=post-meta>
<img class="author-thumb nopin" src=/images/logo.png alt="Author image">
heartnn
on
<a href=https://www.heartnn.com/tags/woff2/>#woff2</a>
,
<a href=https://www.heartnn.com/tags/ttf/>#ttf</a>
<time class=post-date datetime=2021-08-24T15:22:38+08:00>
2021-08-24
</time>
</footer>
</article>
<article class="post post">
<header class=post-header>
<h2 class=post-title><a href=/2021/08/19/youtube-dl-interactive/>简单的youtube-dl交互下载</a></h2>
</header>
<section class=post-excerpt>
<p><p><a href=https://github.com/ytdl-org/youtube-dl/>youtube-dl</a>本身是个强大的工具，但是命令记起来还是有些繁琐的，而GUI工具也没发现特别好用的，所以有了下面的脚本。</p>
<h3 id=使用方法>使用方法</h3>
<ol>
<li>下载最新版本的<a href=https://github.com/ytdl-org/youtube-dl/releases>youtube-dl.exe</a>；</li>
<li>下载<a href=https://www.ffmpeg.org/download.html#build-windows>ffmpeg</a>，版本需大于3.4.2，否则无法合并webm；</li>
<li>下载最新的<a href=https://github.com/aria2/aria2/releases>aria2c.exe</a>，这样youtube-dl可以调用它实现多线程下载；</li>
<li>上面三个文件放到脚本目录下的libs目录里；</li>
<li>自行修改脚本中<code>--proxy</code>字段；</li>
<li>下载得到的视频文件在脚本目录里。</li>
</ol> <a class=read-more href=/2021/08/19/youtube-dl-interactive/>&#187;</a></p>
</section>
<footer class=post-meta>
<img class="author-thumb nopin" src=/images/logo.png alt="Author image">
heartnn
on
<a href=https://www.heartnn.com/tags/youtube/>#youtube</a>
,
<a href=https://www.heartnn.com/tags/windows/>#windows</a>
<time class=post-date datetime=2021-08-19T09:12:20+08:00>
2021-08-19
</time>
</footer>
</article>
<article class="post post">
<header class=post-header>
<h2 class=post-title><a href=/2021/03/24/synology-ipv6-ddns-autoupdate/>黑群晖在路由器重启后自动获取最新的IPv6并更新DDNS</a></h2>
</header>
<section class=post-excerpt>
<p><p>首先说明，白群晖也可以这么折腾，但没必要。</p>
<p>下面的问题以及解决方法都是基于<code>ip addr</code>的方法更新记录的，如果是访问第三方网站获取本机IP的话，应该不存在这些问题。</p>
<p>起因是由于黑群晖在路由器重启后，前缀发生改变，但旧的IPv6地址并没有释放，所以造成会有很多IPv6的公网地址，当然只有最新的才可以访问到群晖，这时很多DDNS脚本都没有对此的解决方案，一般脚本获取到多个地址时，就会将第一个地址更新到DDNS解析网站上。</p>
<p>虽然新地址与旧地址并没有什么规律可循，但是每次路由器重启后，会分配一个DHCPv6给群晖（我的OpenWrt是通过DHCPv6-PD分配地址的），并且这个后缀一般不会存在多个地址，所以最后就利用这个IPv6来更新DDNS。</p> <a class=read-more href=/2021/03/24/synology-ipv6-ddns-autoupdate/>&#187;</a></p>
</section>
<footer class=post-meta>
<img class="author-thumb nopin" src=/images/logo.png alt="Author image">
heartnn
on
<a href=https://www.heartnn.com/tags/synology/>#synology</a>
,
<a href=https://www.heartnn.com/tags/ddns/>#ddns</a>
,
<a href=https://www.heartnn.com/tags/ipv6/>#ipv6</a>
<time class=post-date datetime=2021-03-24T09:59:12+08:00>
2021-03-24
</time>
</footer>
</article>
<article class="post post">
<header class=post-header>
<h2 class=post-title><a href=/2020/12/21/network-topology/>目前家中的网络拓扑</a></h2>
</header>
<section class=post-excerpt>
<p><p>这次主要记载了一下家中目前使用的网络模式。</p>
<p>首先用 4415U 的软路由替换掉 R2S，因为 R2S 的双网口还是不太够用，软路由直接作为主路由拨号使用。</p>
<p>光猫改成桥接，只负责 IPTV 拨号。</p>
<p>客厅的两个位置(电脑及电视)全都是只穿了一根网线，没有办法只好买了两个 SG105 Pro 组成 vlan。</p>
<p>客厅放置 TP-LINK WDR8661 易展版作为主要 AP，两个较远的卧室分别放置 TL-WDR8670 和 TL-WDR1850 (不是一次购买的，可以以后过渡到 WiFi6)。</p>
<p>这样客厅穿线较少的问题得到了解决，而且 SG105 Pro 还有剩余端口，还可以继续拓展比如 Switch 加装有线网卡等等。</p> <a class=read-more href=/2020/12/21/network-topology/>&#187;</a></p>
</section>
<footer class=post-meta>
<img class="author-thumb nopin" src=/images/logo.png alt="Author image">
heartnn
on
<a href=https://www.heartnn.com/tags/network/>#network</a>
<time class=post-date datetime=2020-12-21T10:09:00+08:00>
2020-12-21
</time>
</footer>
</article>
<nav class=pagination role=navigation>
<span class=page-number>Page 1 of 38</span>
<a class=older-posts href=/post/page/2/>Older Posts &rarr;</a>
</nav>
</main>
<footer class="site-footer clearfix">
<section class=copyright>&copy;2008-2018 heartnn的自留地 &nbsp;&nbsp;&nbsp; <a rel=license href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC&nbsp;BY-NC-SA&nbsp;4.0</a></section>
<section class=poweredby>Proudly generated by <a class=icon-hugo href=https://gohugo.io>HUGO</a>, with <a class=icon-theme href=https://github.com/vjeantet/hugo-theme-casper>Casper</a> theme</section>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=//cdn.jsdelivr.net/gh/TryGhost/Casper@2.6.2/assets/js/jquery.fitvids.js integrity="sha256-bj/JlIND2F1ZRARRwS8t4d22whMq5QMxT2rGs/hyGKg=" crossorigin=anonymous></script>
<script src=//cdn.jsdelivr.net/gh/leancloud/javascript-sdk@3.0.4/dist/av-min.js integrity="sha256-2vlmqmaGb3IeprbhwEGB5KVTmXxClaA3zwloXdTaXPQ=" crossorigin=anonymous></script>
<script src=//cdn.jsdelivr.net/gh/DesertsP/Valine/dist/Valine.min.js></script>
<script>new Valine({av:AV,el:'#vcomments',emoticon_url:'https://www.heartnn.com/smiles',emoticon_list:["呵呵.png","哈哈.png","吐舌.png","啊.png","酷.png","怒.png","开心.png","汗.png","泪.png","黑线.png","鄙视.png","不高兴.png","真棒.png","钱.png","疑问.png","阴脸.png","吐.png","咦.png","委屈.png","花心.png","呼~.png","笑眼.png","冷.png","太开心.png","滑稽.png","勉强.png","狂汗.png","乖.png","睡觉.png","惊哭.png","升起.png","惊讶.png","喷.png"],app_id:'WmHH4997UnyEsd9H1aACe6rP-gzGzoHsz',app_key:'44mTerRFfQEcXcJ8kvvkeTp0',placeholder:'在此评论～'})</script>
<script src=/js/index.js></script>
<script src=//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.4.1/dist/jquery.fancybox.min.js integrity="sha256-iFCrYEMjebIvuiqOp61+L3FN2MH8rfqmzGQ0bN5YTWg=" crossorigin=anonymous></script>
<script src=/js/fancybox.js></script>
</body>
</html>