<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ddns on heartnn的自留地</title><link>https://www.heartnn.com/tags/ddns/</link><description>Recent content in Ddns on heartnn的自留地</description><generator>Hugo</generator><language>zh-CN</language><copyright>&amp;copy;2008-2022 heartnn的自留地</copyright><lastBuildDate>Wed, 24 Mar 2021 09:59:12 +0800</lastBuildDate><atom:link href="https://www.heartnn.com/tags/ddns/index.xml" rel="self" type="application/rss+xml"/><item><title>黑群晖在路由器重启后自动获取最新的IPv6并更新DDNS</title><link>https://www.heartnn.com/2021/03/24/synology-ipv6-ddns-autoupdate/</link><pubDate>Wed, 24 Mar 2021 09:59:12 +0800</pubDate><guid>https://www.heartnn.com/2021/03/24/synology-ipv6-ddns-autoupdate/</guid><description>&lt;p>首先说明，白群晖也可以这么折腾，但没必要。&lt;/p>
&lt;p>下面的问题以及解决方法都是基于&lt;code>ip addr&lt;/code>的方法更新记录的，如果是访问第三方网站获取本机IP的话，应该不存在这些问题。&lt;/p>
&lt;p>起因是由于黑群晖在路由器重启后，前缀发生改变，但旧的IPv6地址并没有释放，所以造成会有很多IPv6的公网地址，当然只有最新的才可以访问到群晖，这时很多DDNS脚本都没有对此的解决方案，一般脚本获取到多个地址时，就会将第一个地址更新到DDNS解析网站上。&lt;/p>
&lt;p>虽然新地址与旧地址并没有什么规律可循，但是每次路由器重启后，会分配一个DHCPv6给群晖（我的OpenWrt是通过DHCPv6-PD分配地址的），并且这个后缀一般不会存在多个地址，所以最后就利用这个IPv6来更新DDNS。&lt;/p></description></item></channel></rss>