<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>dns on heartnn的自留地</title><link>https://www.heartnn.com/tags/dns/</link><description>Recent content in dns on heartnn的自留地</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><copyright>&amp;copy;2008-2022 heartnn的自留地</copyright><lastBuildDate>Wed, 25 May 2022 09:47:08 +0800</lastBuildDate><atom:link href="https://www.heartnn.com/tags/dns/index.xml" rel="self" type="application/rss+xml"/><item><title>OpenWrt中MosDNS配置</title><link>https://www.heartnn.com/2022/05/25/config-mosdns-in-openwrt/</link><pubDate>Wed, 25 May 2022 09:47:08 +0800</pubDate><guid>https://www.heartnn.com/2022/05/25/config-mosdns-in-openwrt/</guid><description>&lt;p>请配合luci-app-mosdns包的自定义配置食用，本配置修改自官方配置luci-app-mosdns包的配置，兼顾了IPv6的功能，但不会碰到那种客户端解析IPv6优先导致超时连接的恶心情况。&lt;/p>
&lt;p>使用时注意一下几点，避免踩坑：&lt;/p>
&lt;ol>
&lt;li>端口号如果不是5335的需要自行修改。&lt;/li>
&lt;li>配置里的DNS可以使用UDP、DOH、DOT连接，使用DOH和DOT时第一个DNS尽量使用IP，如果一定要使用域名，请参考官方配置对应的IP地址，因为MosDNS可能不能直接解析域名。&lt;/li>
&lt;li>与Passwall的配合使用，需要将Passwall的远程DNS设置为&lt;code>127.0.0.1:5335&lt;/code>或者你的自定义端口号。&lt;/li>
&lt;li>保证配置中提到的文件可用，除了luci-app-mosdns包，还需要安装v2ray，安装了Passwall的会自动安装v2ray依赖。&lt;/li>
&lt;/ol>
&lt;p>以下是&lt;code>/etc/mosdns/cus_config.yaml&lt;/code>的内容：&lt;/p></description></item><item><title>任天堂Switch DNS加速</title><link>https://www.heartnn.com/2019/11/08/switch-dns/</link><pubDate>Fri, 08 Nov 2019 16:22:00 +0800</pubDate><guid>https://www.heartnn.com/2019/11/08/switch-dns/</guid><description>想起来以前曾经整理过一些常用的DNS，但是年代久远，有些已经失效，最近入手了任天堂Switch，故整理一些可以加速Switch的DNS列表，供大家使用。
Switch可设置1~2个DNS服务器，请尽量不要混用，以免造成解析不稳定。
快速修改DNS的软件：QuickSetDNS，测速可使用DNS Jump。</description></item><item><title>解决Cloudflare产生的“ERR_TOO_MANY_REDIRECTS”错误</title><link>https://www.heartnn.com/2018/11/17/resolve-err-too-many-redirects-on-cloudflare/</link><pubDate>Sat, 17 Nov 2018 10:33:23 +0800</pubDate><guid>https://www.heartnn.com/2018/11/17/resolve-err-too-many-redirects-on-cloudflare/</guid><description>&lt;p>昨天打开自己的博客，发现了“ERR_TOO_MANY_REDIRECTS”，估计是最近把DNS改到Cloudflare产生的后果，于是开始排查错误。原来是Cloudflare登录后对应域名的Crypto问题，由于我的域名下有子域名处于http状态，前几天将SSL加密部分从Full SSL改为了Flexible SSL，由此造成的“ERR_TOO_MANY_REDIRECTS”。&lt;/p>
&lt;p>问题找到了，由于我的博客托管在Github，首先去掉Github Pages设置里的Enforce HTTPS选项，因为这里http会被强制跳转到https，而Cloudflare的Flexible SSL选项需要阅读原始服务器的http数据，然后进行加密，再传送过来，如果原始服务器返回https的话，Cloudflare会丢弃https数据，然后再继续请求，这就是造成问题的元凶。&lt;/p>
&lt;p>&lt;img src="https://www.heartnn.com/uploads/2018/11/github-pages.png" alt="">&lt;/p></description></item><item><title>Acrylic DNS Proxy简易教程</title><link>https://www.heartnn.com/2015/04/02/acrylic-dns-tutorial/</link><pubDate>Thu, 02 Apr 2015 22:52:00 +0800</pubDate><guid>https://www.heartnn.com/2015/04/02/acrylic-dns-tutorial/</guid><description>&lt;p>最近更新了一份基于Acrylic DNS Proxy的hosts文档，在此做一个简易的说明。&lt;/p>
&lt;p>首先在&lt;a href="http://mayakron.altervista.org/">官方网站下载&lt;/a>软件(打不开官网的话可以直接到&lt;a href="http://sourceforge.net/projects/acrylic/">sf.net&lt;/a>下载)，安装完成后，在开始菜单后可以找到下面几个快捷方式：&lt;/p>
&lt;p>&lt;img src="https://www.heartnn.com/uploads/2015/04/acrylic-console.png" alt="">&lt;/p>
&lt;p>在此仅说明一下重要的配置文件，注意看&lt;code>PrimaryServerAddress&lt;/code>的部分，默认会是&lt;code>8.8.8.8&lt;/code>，然后对应&lt;code>SecondaryServerAddress&lt;/code>是&lt;code>8.8.4.4&lt;/code>，由于我们将来会使用hosts文档去解析一些网站，其实这里设置成国内的DNS就可以了，比如114DNS，至于端口保存53就行。&lt;/p>
&lt;p>下面&lt;code>HitLogFileName&lt;/code>可以自己设置一下，有时会在log里发现一些新的域名，从而知道某些网站打不开的原因。&lt;/p>
&lt;p>这里&lt;code>HitLogFileWhat=BHCFRU&lt;/code>对应的是上面的说明，建议可以只关注自己需要的。&lt;/p></description></item><item><title>关于DNS污染的解决办法</title><link>https://www.heartnn.com/2014/12/30/resolve-dns-pollution/</link><pubDate>Tue, 30 Dec 2014 23:53:00 +0800</pubDate><guid>https://www.heartnn.com/2014/12/30/resolve-dns-pollution/</guid><description>&lt;p>第一种方法：切换公共DNS服务器就算是第一种方法。&lt;/p>
&lt;p>关于公共DNS服务器列表请参考&lt;a href="https://www.heartnn.com/2014/12/07/public-dns/">这个帖子&lt;/a>，其中Google的应该是最经常用到的，用这个DNS也能解决某些Google服务的问题。&lt;/p>
&lt;p>第二种方法：DNS加密，具体方法请自行Google。&lt;/p>
&lt;p>重点说下第三种方法，如果你在用Chrome，那么除了hosts文件外，还应该做以下设置：&lt;/p>
&lt;p>打开&lt;code>chrome://flags&lt;/code>，找到下面的项目：&lt;/p>
&lt;p>&lt;img src="https://www.heartnn.com/uploads/2014/12/chrome-flags.png" alt="">&lt;/p></description></item><item><title>一些常用的公共DNS</title><link>https://www.heartnn.com/2014/12/07/public-dns/</link><pubDate>Sun, 07 Dec 2014 00:58:00 +0800</pubDate><guid>https://www.heartnn.com/2014/12/07/public-dns/</guid><description>国内 服务商 主要DNS 次要DNS 百度DNS 180.76.76.76 114.114.114.114 114DNS 114.114.114.114 114.114.115.115 阿里DNS 223.5.5.5 223.6.6.6 CNNIC SDNS 1.2.4.8 210.2.4.8 DNS派 电信 101.226.4.6 218.30.118.6 DNS派 联通 123.125.81.6 140.207.198.6 oneDNS 112.124.47.27 114.215.126.16 如果没有什么特殊情况，请直接使用当地服务商提供的默认DNS，切换国内DNS并不能解决DNS污染问题。
美国(包含欧洲) 服务商 主要DNS 次要DNS Google DNS 8.8.8.8 8.8.4.4 OpenDNS 208.67.222.222 208.67.220.220 OpenDNS Family Shield 208.67.222.123 208.67.220.123 Norton ConnectSafe 199.85.126.10 199.185.127.10 Comodo 8.20.247.20 8.26.56.26 V2EX DNS 199.91.73.222 178.79.131.110 Unblock-us 208.122.23.23 208.122.23.22 BlockAid 205.204.88.60 178.21.23.150 香港 服务商 主要DNS 次要DNS NetFront前线 202.81.252.1 202.81.252.2 网上行 218.</description></item></channel></rss>